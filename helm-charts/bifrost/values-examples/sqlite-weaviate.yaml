# Configuration: SQLite for config/logs + Weaviate for vector store
# Usage: helm install bifrost ./bifrost -f values-examples/sqlite-weaviate.yaml

# Storage configuration
storage:
  mode: sqlite
  persistence:
    enabled: true
    size: 10Gi
  configStore:
    enabled: true
  logsStore:
    enabled: true

# No PostgreSQL
postgresql:
  enabled: false

# Deploy Weaviate for vector store
vectorStore:
  enabled: true
  type: weaviate
  weaviate:
    enabled: true
    replicas: 1
    persistence:
      enabled: true
      size: 10Gi
    resources:
      limits:
        cpu: 1000m
        memory: 2Gi
      requests:
        cpu: 500m
        memory: 1Gi

# Bifrost configuration
bifrost:
  client:
    enableLogging: true
  providers: {}
    # Add your provider keys here
  
  # Enable semantic cache plugin to use vector store
  plugins:
    semanticCache:
      enabled: true
      config:
        provider: "openai"
        keys:
          - "sk-..."  # Add your OpenAI key for embeddings
        embeddingModel: "text-embedding-3-small"
        dimension: 1536
        threshold: 0.8
        ttl: "5m"

