(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[364],{1284:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(9946).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},2067:(e,t,n)=>{"use strict";n.d(t,{Dr:()=>a,MZ:()=>r,pI:()=>i,vX:()=>s});class a{isValid(){return!this.rules.some(e=>!e.isValid)}getErrors(){return this.rules.filter(e=>!e.isValid).map(e=>e.message)}getFirstError(){let e=this.rules.find(e=>!e.isValid);return null==e?void 0:e.message}static required(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This field is required";return{isValid:null!=e&&""!==e&&0!==e,message:t}}static minValue(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be at least ".concat(t);return{isValid:!isNaN(e)&&e>=t,message:n}}static maxValue(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be at most ".concat(t);return{isValid:!isNaN(e)&&e<=t,message:n}}static pattern(e,t,n){return{isValid:t.test(e||""),message:n}}static email(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Must be a valid email";return this.pattern(e,/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,t)}static url(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Must be a valid URL";return this.pattern(e,/^https?:\/\/.+/,t)}static minLength(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be at least ".concat(t," characters");return{isValid:(e||"").length>=t,message:n}}static maxLength(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be at most ".concat(t," characters");return{isValid:(e||"").length<=t,message:n}}static arrayMinLength(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must have at least ".concat(t," items");return{isValid:(null==e?void 0:e.length)>=t,message:n}}static arrayMaxLength(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must have at most ".concat(t," items");return{isValid:(null==e?void 0:e.length)<=t,message:n}}static arrayUnique(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Must have unique items";return{isValid:(null==e?void 0:e.length)===new Set(e).size,message:t}}static arraysEqual(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Must be equal";return{isValid:(null==e?void 0:e.length)===(null==t?void 0:t.length)&&(null==e?void 0:e.every((e,n)=>e===t[n])),message:n}}static custom(e,t){return{isValid:e,message:t}}static all(e){return e.find(e=>!e.isValid)||{isValid:!0,message:""}}constructor(e){this.rules=e.filter(e=>void 0!==e)}}function s(e){return!!e&&(!!e.startsWith("env.")||32===e.length&&e.substring(4,28)==="*".repeat(24)||!!(e.length<=8&&/^\*+$/.test(e)))}function i(e){if(!e||!e.trim())return!1;if(s(e))return!0;if(e.startsWith("env."))return e.length>4;try{let t=JSON.parse(e);return"object"==typeof t&&null!==t&&"service_account"===t.type&&t.project_id&&t.private_key}catch(e){return!1}}function r(e){if(!e)return!1;if("object"==typeof e)return Object.keys(e).length>0;if("string"==typeof e){if(s(e))return!0;try{let t=JSON.parse(e);return"object"==typeof t&&null!==t&&Object.keys(t).length>0}catch(e){}}return!1}},2525:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3557:(e,t,n)=>{"use strict";n.d(t,{Ob:()=>s,w8:()=>a});let a=e=>e.split(",").map(e=>e.trim()).filter(e=>e.length>0),s=(e,t)=>(null==e?void 0:e.length)===(null==t?void 0:t.length)&&(null==e?void 0:e.every((e,n)=>e===t[n]))},3580:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var a=n(6671);function s(){return{toast:e=>{let{title:t,description:n,variant:s}=e,i=n?"".concat(t,": ").concat(n):t;"destructive"===s?a.o.error(i):a.o.success(i)}}}},4616:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6034:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>i,mR:()=>a,qV:()=>s});let a={base_url:"",default_request_timeout_in_seconds:30,max_retries:0,retry_backoff_initial:1e3,retry_backoff_max:1e4},s={concurrency:10,buffer_size:100},i={connected:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",disconnected:"bg-gray-100 text-gray-800"}},6559:(e,t,n)=>{"use strict";n.d(t,{$v:()=>x,EO:()=>u,Lt:()=>l,Rx:()=>g,Zr:()=>v,ck:()=>m,r7:()=>p,tv:()=>o,wd:()=>h});var a=n(5155);n(2115);var s=n(7649),i=n(3999),r=n(7168);function l(e){let{...t}=e;return(0,a.jsx)(s.bL,{"data-slot":"alert-dialog",...t})}function o(e){let{...t}=e;return(0,a.jsx)(s.l9,{"data-slot":"alert-dialog-trigger",...t})}function c(e){let{...t}=e;return(0,a.jsx)(s.ZL,{"data-slot":"alert-dialog-portal",...t})}function d(e){let{className:t,...n}=e;return(0,a.jsx)(s.hJ,{"data-slot":"alert-dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function u(e){let{className:t,...n}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{}),(0,a.jsx)(s.UC,{"data-slot":"alert-dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n})]})}function h(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...n})}function m(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n})}function p(e){let{className:t,...n}=e;return(0,a.jsx)(s.hE,{"data-slot":"alert-dialog-title",className:(0,i.cn)("text-lg font-semibold",t),...n})}function x(e){let{className:t,...n}=e;return(0,a.jsx)(s.VY,{"data-slot":"alert-dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...n})}function g(e){let{className:t,...n}=e;return(0,a.jsx)(s.rc,{className:(0,i.cn)((0,r.r)({variant:"destructive"}),t),...n})}function v(e){let{className:t,...n}=e;return(0,a.jsx)(s.ZD,{className:(0,i.cn)((0,r.r)({variant:"outline"}),t),...n})}},7649:(e,t,n)=>{"use strict";n.d(t,{UC:()=>T,VY:()=>Z,ZD:()=>P,ZL:()=>L,bL:()=>E,hE:()=>z,hJ:()=>R,l9:()=>V,rc:()=>O});var a=n(2115),s=n(6081),i=n(6101),r=n(5452),l=n(5185),o=n(9708),c=n(5155),d="AlertDialog",[u,h]=(0,s.A)(d,[r.Hs]),m=(0,r.Hs)(),p=e=>{let{__scopeAlertDialog:t,...n}=e,a=m(t);return(0,c.jsx)(r.bL,{...a,...n,modal:!0})};p.displayName=d;var x=a.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,s=m(n);return(0,c.jsx)(r.l9,{...s,...a,ref:t})});x.displayName="AlertDialogTrigger";var g=e=>{let{__scopeAlertDialog:t,...n}=e,a=m(t);return(0,c.jsx)(r.ZL,{...a,...n})};g.displayName="AlertDialogPortal";var v=a.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,s=m(n);return(0,c.jsx)(r.hJ,{...s,...a,ref:t})});v.displayName="AlertDialogOverlay";var f="AlertDialogContent",[j,y]=u(f),_=(0,o.Dc)("AlertDialogContent"),b=a.forwardRef((e,t)=>{let{__scopeAlertDialog:n,children:s,...o}=e,d=m(n),u=a.useRef(null),h=(0,i.s)(t,u),p=a.useRef(null);return(0,c.jsx)(r.G$,{contentName:f,titleName:C,docsSlug:"alert-dialog",children:(0,c.jsx)(j,{scope:n,cancelRef:p,children:(0,c.jsxs)(r.UC,{role:"alertdialog",...d,...o,ref:h,onOpenAutoFocus:(0,l.m)(o.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=p.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,c.jsx)(_,{children:s}),(0,c.jsx)(S,{contentRef:u})]})})})});b.displayName=f;var C="AlertDialogTitle",w=a.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,s=m(n);return(0,c.jsx)(r.hE,{...s,...a,ref:t})});w.displayName=C;var N="AlertDialogDescription",k=a.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,s=m(n);return(0,c.jsx)(r.VY,{...s,...a,ref:t})});k.displayName=N;var A=a.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,s=m(n);return(0,c.jsx)(r.bm,{...s,...a,ref:t})});A.displayName="AlertDialogAction";var D="AlertDialogCancel",M=a.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=y(D,n),l=m(n),o=(0,i.s)(t,s);return(0,c.jsx)(r.bm,{...l,...a,ref:o})});M.displayName=D;var S=e=>{let{contentRef:t}=e,n="`".concat(f,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(f,"` by passing a `").concat(N,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(f,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return a.useEffect(()=>{var e;document.getElementById(null==(e=t.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(n)},[n,t]),null},E=p,V=x,L=g,R=v,T=b,O=A,P=M,z=w,Z=k},7765:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var a=n(5155),s=n(7168),i=n(9840),r=n(9852),l=n(2115),o=n(3655),c=l.forwardRef((e,t)=>(0,a.jsx)(o.sG.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));c.displayName="Label";var d=n(3999);function u(e){let{className:t,...n}=e;return(0,a.jsx)(c,{"data-slot":"label",className:(0,d.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...n})}var h=n(5784),m=n(9474),p=n(7777),x=n(3580),g=n(1886),v=n(3557),f=n(2067),j=n(1284);let y={name:"",connection_type:"http",connection_string:"",stdio_config:{command:"",args:[],envs:[]},tools_to_skip:[],tools_to_execute:[]},_=e=>{var t,n,o,c,d,_;let{client:b,open:C,onClose:w,onSaved:N}=e,[k,A]=(0,l.useState)(y),[D,M]=(0,l.useState)(!1),[S,E]=(0,l.useState)(""),[V,L]=(0,l.useState)(""),[R,T]=(0,l.useState)(""),[O,P]=(0,l.useState)(""),{toast:z}=(0,x.d)();(0,l.useEffect)(()=>{if(b){var e,t,n,a,s;A({name:b.name,connection_type:b.config.connection_type,connection_string:b.config.connection_string||"",stdio_config:{command:(null==(e=b.config.stdio_config)?void 0:e.command)||"",args:(null==(t=b.config.stdio_config)?void 0:t.args)||[],envs:(null==(n=b.config.stdio_config)?void 0:n.envs)||[]},tools_to_skip:b.config.tools_to_skip||[],tools_to_execute:b.config.tools_to_execute||[]}),E(((null==(a=b.config.stdio_config)?void 0:a.args)||[]).join(", ")),L(((null==(s=b.config.stdio_config)?void 0:s.envs)||[]).join(", ")),T((b.config.tools_to_skip||[]).join(", ")),P((b.config.tools_to_execute||[]).join(", "))}else A(y),E(""),L(""),T(""),P("")},[b]);let Z=(e,t)=>{A(n=>({...n,[e]:t}))},$=(e,t)=>{A(n=>({...n,stdio_config:{command:"",args:[],envs:[],...n.stdio_config||{},[e]:t}}))},q=new f.Dr([f.Dr.required(null==(t=k.name)?void 0:t.trim(),"Client name is required"),f.Dr.pattern(k.name||"",/^[a-zA-Z0-9-_]+$/,"Client name can only contain letters, numbers, hyphens and underscores"),f.Dr.minLength(k.name||"",3,"Client name must be at least 3 characters"),f.Dr.maxLength(k.name||"",50,"Client name cannot exceed 50 characters"),...("http"===k.connection_type||"sse"===k.connection_type)&&!b?[f.Dr.required(null==(n=k.connection_string)?void 0:n.trim(),"Connection URL is required"),f.Dr.pattern(k.connection_string||"",/^(http:\/\/|https:\/\/|env\.[A-Z_]+$)/,"Connection URL must start with http://, https://, or be an environment variable (env.VAR_NAME)")]:[],..."stdio"===k.connection_type&&!b?[f.Dr.required(null==(c=k.stdio_config)||null==(o=c.command)?void 0:o.trim(),"Command is required for STDIO connections"),...!b?[f.Dr.pattern((null==(d=k.stdio_config)?void 0:d.command)||"",/^[^<>|&;]+$/,"Command cannot contain special shell characters")]:[]]:[],...O.trim()?[f.Dr.pattern(O,/^[a-zA-Z0-9_,\s-]+$/,"Tools to execute can only contain letters, numbers, underscores, and commas")]:[],...R.trim()?[f.Dr.pattern(R,/^[a-zA-Z0-9_,\s-]+$/,"Tools to skip can only contain letters, numbers, underscores, and commas")]:[],...b?[f.Dr.custom(!(0,v.Ob)(k.tools_to_execute||[],(0,v.w8)(O))||!(0,v.Ob)(k.tools_to_skip||[],(0,v.w8)(R)),"No changes to save")]:[],f.Dr.custom(!((e,t)=>{let n=new Set((0,v.w8)(e)),a=new Set((0,v.w8)(t));return Array.from(n).some(e=>a.has(e))})(O,R),"Tools cannot appear in both execute and skip lists")]),I=async()=>{var e;M(!0);let t=null,n={...k,stdio_config:"stdio"===k.connection_type?{command:(null==(e=k.stdio_config)?void 0:e.command)||"",args:(0,v.w8)(S),envs:(0,v.w8)(V)}:void 0,tools_to_skip:(0,v.w8)(R),tools_to_execute:(0,v.w8)(O)};if(b){let e={tools_to_execute:n.tools_to_execute,tools_to_skip:n.tools_to_skip};[,t]=await g.K.updateMCPClient(b.name,e)}else[,t]=await g.K.createMCPClient(n);M(!1),t?z({title:"Error",description:t,variant:"destructive"}):(z({title:"Success",description:b?"Client updated":"Client created"}),N(),w())};return(0,a.jsx)(i.lG,{open:C,onOpenChange:w,children:(0,a.jsxs)(i.Cf,{className:"max-h-[90vh] max-w-2xl overflow-y-auto",children:[(0,a.jsx)(i.c7,{children:(0,a.jsx)(i.L3,{children:b?"Edit MCP Client Tools":"New MCP Client"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u,{children:"Name"}),(0,a.jsx)(r.p,{value:k.name,onChange:e=>Z("name",e.target.value),placeholder:"Client name",disabled:!!b})]}),!b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-full space-y-2",children:[(0,a.jsx)(u,{children:"Connection Type"}),(0,a.jsxs)(h.l6,{value:k.connection_type,onValueChange:e=>Z("connection_type",e),children:[(0,a.jsx)(h.bq,{className:"w-full",children:(0,a.jsx)(h.yv,{placeholder:"Select connection type"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"http",children:"HTTP (Streamable)"}),(0,a.jsx)(h.eb,{value:"sse",children:"Server-Sent Events (SSE)"}),(0,a.jsx)(h.eb,{value:"stdio",children:"STDIO"})]})]})]}),("http"===k.connection_type||"sse"===k.connection_type)&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex w-fit items-center gap-1",children:[(0,a.jsx)(u,{children:"Connection URL"}),(0,a.jsx)(p.Bc,{children:(0,a.jsxs)(p.m_,{children:[(0,a.jsx)(p.k$,{asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(j.A,{className:"text-muted-foreground ml-1 h-3 w-3"})})}),(0,a.jsx)(p.ZI,{className:"max-w-fit",children:(0,a.jsxs)("p",{children:["Use ",(0,a.jsx)("code",{className:"rounded bg-neutral-100 px-1 py-0.5 text-neutral-800",children:"env.<VAR>"})," to read the value from an environment variable."]})})]})})]}),(0,a.jsx)(r.p,{value:k.connection_string||"",onChange:e=>Z("connection_string",e.target.value),placeholder:"http://your-mcp-server:3000 or env.MCP_SERVER_URL"})]}),"stdio"===k.connection_type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u,{children:"Command"}),(0,a.jsx)(r.p,{value:(null==(_=k.stdio_config)?void 0:_.command)||"",onChange:e=>$("command",e.target.value),placeholder:"node, python, /path/to/executable"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u,{children:"Arguments (comma-separated)"}),(0,a.jsx)(r.p,{value:S,onChange:e=>E(e.target.value),placeholder:"--port, 3000, --config, config.json"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u,{children:"Environment Variables (comma-separated)"}),(0,a.jsx)(r.p,{value:V,onChange:e=>L(e.target.value),placeholder:"API_KEY, DATABASE_URL"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u,{children:"Tools to Execute (comma-separated, leave empty for all)"}),(0,a.jsx)(m.T,{value:O,onChange:e=>P(e.target.value),placeholder:"tool1, tool2, tool3",rows:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u,{children:"Tools to Skip (comma-separated)"}),(0,a.jsx)(m.T,{value:R,onChange:e=>T(e.target.value),placeholder:"skipTool1, skipTool2",rows:2})]})]}),(0,a.jsxs)(i.Es,{children:[(0,a.jsx)(s.$,{variant:"outline",onClick:w,disabled:D,children:"Cancel"}),(0,a.jsx)(p.Bc,{children:(0,a.jsxs)(p.m_,{children:[(0,a.jsx)(p.k$,{asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(s.$,{onClick:I,disabled:!q.isValid()||D,isLoading:D,children:b?"Save":"Create"})})}),!q.isValid()&&(0,a.jsx)(p.ZI,{children:q.getFirstError()||"Please fix validation errors"})]})})]})]})})};var b=n(8145),C=n(8482),w=n(8524),N=n(6034),k=n(4616),A=n(9946);let D=(0,A.A)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),M=(0,A.A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var S=n(2525),E=n(6559);function V(e){let{mcpClients:t}=e,[n,i]=(0,l.useState)(null),[r,o]=(0,l.useState)(t),[c,d]=(0,l.useState)(!1),{toast:u}=(0,x.d)(),h=async()=>{let[e,t]=await g.K.getMCPClients();t?u({title:"Error",description:t,variant:"destructive"}):o(e||[])};(0,l.useEffect)(()=>{h()},[]);let m=e=>{i(e),d(!0)},p=async e=>{let[,t]=await g.K.reconnectMCPClient(e.name);t?u({title:"Error",description:t,variant:"destructive"}):(u({title:"Reconnected",description:"Client reconnected."}),h())},v=async e=>{let[,t]=await g.K.deleteMCPClient(e.name);t?u({title:"Error",description:t,variant:"destructive"}):(u({title:"Deleted",description:"Client removed."}),h())},f=e=>{if("stdio"===e.config.connection_type){var t,n;return"".concat(null==(t=e.config.stdio_config)?void 0:t.command," ").concat(null==(n=e.config.stdio_config)?void 0:n.args.join(" "))||"STDIO"}return e.config.connection_string||"".concat(e.config.connection_type.toUpperCase())},j=e=>{switch(e){case"http":return"HTTP";case"sse":return"SSE";case"stdio":return"STDIO";default:return e.toUpperCase()}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(C.aR,{className:"mb-4 px-0",children:[(0,a.jsxs)(C.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:"Registered MCP Clients"}),(0,a.jsxs)(s.$,{onClick:()=>{i(null),d(!0)},children:[(0,a.jsx)(k.A,{className:"h-4 w-4"})," New MCP Client"]})]}),(0,a.jsx)(C.BT,{children:"Manage clients that can connect to the MCP Tools endpoint."})]}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(w.XI,{children:[(0,a.jsx)(w.A0,{children:(0,a.jsxs)(w.Hj,{children:[(0,a.jsx)(w.nd,{children:"Name"}),(0,a.jsx)(w.nd,{children:"Connection Type"}),(0,a.jsx)(w.nd,{children:"Connection Info"}),(0,a.jsx)(w.nd,{children:"State"}),(0,a.jsx)(w.nd,{className:"text-right",children:"Actions"})]})}),(0,a.jsxs)(w.BF,{children:[0===r.length&&(0,a.jsx)(w.Hj,{children:(0,a.jsx)(w.nA,{colSpan:5,className:"py-6 text-center",children:"No clients found."})}),r.map(e=>(0,a.jsxs)(w.Hj,{children:[(0,a.jsx)(w.nA,{className:"font-medium",children:e.name}),(0,a.jsx)(w.nA,{children:j(e.config.connection_type)}),(0,a.jsx)(w.nA,{className:"max-w-72 overflow-hidden text-ellipsis whitespace-nowrap",children:f(e)}),(0,a.jsx)(w.nA,{children:(0,a.jsx)(b.E,{className:N.Dk[e.state],children:e.state})}),(0,a.jsxs)(w.nA,{className:"space-x-2 text-right",children:["disconnected"===e.state?(0,a.jsx)(s.$,{variant:"ghost",size:"icon",onClick:()=>p(e),children:(0,a.jsx)(D,{className:"h-4 w-4"})}):"connected"===e.state&&(0,a.jsx)(s.$,{variant:"ghost",size:"icon",onClick:()=>m(e),children:(0,a.jsx)(M,{className:"h-4 w-4"})}),(0,a.jsxs)(E.Lt,{children:[(0,a.jsx)(E.tv,{asChild:!0,children:(0,a.jsx)(s.$,{variant:"ghost",size:"icon",disabled:"error"===e.state,children:(0,a.jsx)(S.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(E.EO,{children:[(0,a.jsxs)(E.wd,{children:[(0,a.jsx)(E.r7,{children:"Remove MCP Client"}),(0,a.jsxs)(E.$v,{children:["Are you sure you want to remove MCP client ",e.name,"? You will need to reconnect the client to continue using it."]})]}),(0,a.jsxs)(E.ck,{children:[(0,a.jsx)(E.Zr,{children:"Cancel"}),(0,a.jsx)(E.Rx,{onClick:()=>v(e),children:"Delete"})]})]})]})]})]},e.name))]})]})}),c&&(0,a.jsx)(_,{open:c,client:n,onClose:()=>d(!1),onSaved:()=>{d(!1),h()}})]})}var L=n(2384);function R(){let[e,t]=(0,l.useState)([]),[n,s]=(0,l.useState)(!0),{toast:i}=(0,x.d)();(0,l.useEffect)(()=>{r()},[]);let r=async()=>{let[e,n]=await g.K.getMCPClients();if(s(!1),n)return void i({title:"Error",description:n,variant:"destructive"});t(e||[])};return(0,a.jsx)("div",{children:n?(0,a.jsx)(L.A,{}):(0,a.jsx)(V,{mcpClients:e})})}},7777:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>r,ZI:()=>c,k$:()=>o,m_:()=>l});var a=n(5155);n(2115);var s=n(9613),i=n(3999);function r(e){let{delayDuration:t=0,...n}=e;return(0,a.jsx)(s.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...n})}function l(e){let{...t}=e;return(0,a.jsx)(r,{children:(0,a.jsx)(s.bL,{"data-slot":"tooltip",...t})})}function o(e){let{...t}=e;return(0,a.jsx)(s.l9,{"data-slot":"tooltip-trigger",...t})}function c(e){let{className:t,sideOffset:n=0,children:r,...l}=e;return(0,a.jsx)(s.ZL,{children:(0,a.jsxs)(s.UC,{"data-slot":"tooltip-content",sideOffset:n,className:(0,i.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...l,children:[r,(0,a.jsx)(s.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},8396:(e,t,n)=>{Promise.resolve().then(n.bind(n,7765))},9474:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var a=n(5155);n(2115);var s=n(3999);function i(e){let{className:t,...n}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...n})}}},e=>{var t=t=>e(e.s=t);e.O(0,[106,189,944,231,412,62,613,915,441,684,358],()=>t(8396)),_N_E=e.O()}]);